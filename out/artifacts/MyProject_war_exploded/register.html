<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>注册界面</title>
	<link rel="stylesheet" href="css/register.css"/>
	<script src="js/vue.js"></script>
	<script src="js/jquery-3.5.1.js"></script>
	
</head>
<body>
<!--header start-->
<!-- <div id="header">
	<div id="author">
		<span>页面作者：I an</span>
	</div>
</div> -->
<!--header end-->
<!-- <form id="login_edit" >
	<div>
		<span>REGISTER</span>
	</div>
	<div>
		<input type="text" autocomplete="off" id="ID" name="ID" placeholder="ID" />
	</div>
	<div>
		<input type="text" autocomplete="off" class="PassWord" name="PassWord" placeholder="PASSWORD" v-model="passWord"/>
	</div>
	<div>
		<input type="text" autocomplete="off" class="PassWord" placeholder="REPEAT PASSWORD" v-model="repeat"/>
	</div>
	<div>
		<input type="button" id="register" value="注册" @click="register"/>

	</div>
	<div>
		<input type="button" id="back" value="返回" @click="back">
	</div>
</form> -->
<canvas class="cavs" width="1575" height="1337"></canvas>
<form id="login_edit" >
<div class="loginmain">
    <div class="login-title">
        <span>注册</span>
	</div>
    <div class="login-con">
        <div class="text_border">
            <input type="text" id="ID" name="ID" class="text" placeholder="用户名" autocomplete="off" value="">
        </div>
        <div class="text_border">
            <input type="password" id="PassWord" class="text" name="PassWord" placeholder="密码" autocomplete="off" value="" />
        </div>
        <div class="text_border">
            <input type="password" id="repeat" class="text" placeholder="再次输入密码" autocomplete="off" value="" />
        </div>
        <div class="login-btn top_position1" >
            <input type="button" id="register" value="注册" @click="register"/>
		</div>
		<div class="login-btn top_position2" >
            <input type="button" id="back" value="返回" @click="back"/>
        </div>
    </div>

</div>
</form>
	<script>
		var vue=new Vue({
			el:"#login_edit",
			methods:{
				register:function(){
                    let ID=$('#ID').val().replace(/\s/g,"");
                    if(ID==="") {
                        alert("用户名不能为空");
                        return;
                    }
					if($("#PassWord").val()!==$("#repeat").val()){
						alert("两次输入密码不一致，请重新输入");
					}else{
						$.post("/register",{ID:$("#ID").val(),PassWord:$("#PassWord").val()},function (data) {
							if(data==="success"){
								alert("注册成功！");
								location.assign("login.html")
							}else if(data==="fail"){
								alert("注册失败！")
							}else if(data==="repeat"){
								alert("该用户名已存在！")
							}
						})
					}
				},
				back:function (){
					location.assign("login.html");
				}
			}
		})
	</script>
	<script src="js/ban.js"></script>
</body>
</html>
